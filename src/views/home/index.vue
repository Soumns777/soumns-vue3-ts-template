<script lang="ts" setup>
import { reactive, ref } from 'vue';

import useStore from '@/store/index';
import { storeToRefs } from 'pinia';
import { useEverything } from '@/store/index';
import { useDark, useToggle } from '@vueuse/core';

import { login } from '@/services/request';

console.log(useEverything().User, 'useEverything ğŸ’™ğŸ’›');

const store = useStore().User;

// å¼‚æ­¥è°ƒç”¨
store.changeName({
  name: 'yoona',
  age: 23,
});

const { user, firstName, nextName } = storeToRefs(store);
console.log(user, 'ğŸ’™ğŸ’› get-pinia');

// è°ƒç”¨æ¥å£
login({
  name: 'iu',
  age: 19,
}).then((res) => console.log(res, 'ğŸ’™ğŸ’› res data '));

// æš—é»‘æ¨¡å¼
const isDark = useDark();
const toggleDark = useToggle(isDark);
</script>

<template>
  <div>
    Home

    <button @click="toggleDark()">change</button>
  </div>
</template>

<style scoped lang="scss"></style>
